<?xml version="1.0" encoding="UTF-8"?>

<!--
     Copyright 2014, NICTA

     This software may be distributed and modified according to the terms of
     the BSD 2-Clause license. Note that NO WARRANTY is provided.
     See "LICENSE_BSD2.txt" for details.

     @TAG(NICTA_BSD)
  -->

<manifest>

    <!-- We assume this manifest is in the same path as all the libraries. If you are
     copying this manifest as a template then you probably want the fetch path
     for this to be '../seL4' instead of '.' added to .repo/local_manifest/ -->
    <remote name="current" fetch="."/>

    <!-- default revision for each project, and name of the remote -->
    <default revision="master" remote="current"/>

    <!-- the seL4 kernel -->
    <project remote="current" name="seL4.git" path="kernel">
      <linkfile src="libsel4" dest="libs/libsel4"/>
    </project>

    <!-- tools for building -->
    <project remote="current" name="seL4_tools.git" path="projects/tools">
      <linkfile src="common-tool" dest="tools/common"/>
      <linkfile src="kbuild-tool" dest="tools/kbuild"/>
      <linkfile src="elfloader-tool" dest="tools/elfloader"/>
      <linkfile src="elfloader-tool" dest="libs/elfloader"/>
    </project>

    <!-- C library -->
    <project remote="current" name="libmuslc.git" path="libs/libmuslc"/> 

    <!-- seL4-specific libraries -->
    <project remote="current" name="seL4_libs.git" path="projects/seL4_libs">
      <linkfile src="libsel4allocman" dest="libs/libsel4allocman"/>
      <linkfile src="libsel4debug" dest="libs/libsel4debug"/>
      <linkfile src="libsel4muslcsys" dest="libs/libsel4muslcsys"/>
      <linkfile src="libsel4platsupport" dest="libs/libsel4platsupport"/>
      <linkfile src="libsel4simple" dest="libs/libsel4simple"/>
      <linkfile src="libsel4simple-default" dest="libs/libsel4simple-default"/>
      <linkfile src="libsel4test" dest="libs/libsel4test"/>
      <linkfile src="libsel4utils" dest="libs/libsel4utils"/>
      <linkfile src="libsel4vka" dest="libs/libsel4vka"/>
      <linkfile src="libsel4vspace" dest="libs/libsel4vspace"/>
    </project>

    <!-- seL4-independent libraries -->
    <project remote="current" name="util_libs.git" path="projects/util_libs">
      <linkfile src="libcpio" dest="libs/libcpio"/>
      <linkfile src="libelf" dest="libs/libelf"/>
      <linkfile src="libplatsupport" dest="libs/libplatsupport" />
      <linkfile src="libutils" dest="libs/libutils"/>
    </project>

    <project remote="current" name="refos.git" path="projects/refos">
        <!-- symlinks to make the project structure fit the build system -->
        <linkfile src="impl/Makefile" dest="Makefile"/>
        <linkfile src="impl/Kbuild" dest="Kbuild"/>
        <linkfile src="impl/Kconfig" dest="Kconfig"/>
        <linkfile src="impl/configs" dest="configs"/>
        <linkfile src="impl/apps" dest="apps"/>
        <linkfile src="../../kernel/libsel4" dest="libs/libsel4"/>

        <!-- symlinks for CIDL and docs folder -->
        <linkfile src="impl/cidl_compile" dest="cidl_compile"/>
        <linkfile src="impl/cidl_templates" dest="cidl_templates"/>
        <linkfile src="impl/refos_cidl_compile" dest="refos_cidl_compile"/>
        <linkfile src="impl/docs" dest="docs"/>

        <!-- symlinks for RefOS project specific libraries -->
        <linkfile src="impl/libs/Kbuild" dest="libs/Kbuild"/>
        <linkfile src="impl/libs/Kconfig" dest="libs/Kconfig"/>
        <linkfile src="impl/libs/libdatastruct" dest="libs/libdatastruct"/>
        <linkfile src="impl/libs/librefos" dest="libs/librefos"/>
        <linkfile src="impl/libs/librefossys" dest="libs/librefossys"/>
        <linkfile src="impl/libs/libvterm" dest="libs/libvterm"/>
        
        <!-- symlink for RefOS readme -->
        <linkfile src="README.md" dest="README.md"/>
        <linkfile src="LICENSE_BSD2.txt" dest="LICENSE_BSD2.txt"/>
    </project>


</manifest>
